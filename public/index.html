<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>メニュー | 再生の道 ポスティング配布進捗マップ</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="icon" type="image/png" href="/favicon.png">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container-sm my-5">
    <div class="col-lg-12 px-0">
      <nav class="mb-4">
        <a href="about.html" class="btn btn-outline-secondary">当サイトについて</a>
      </nav>
      <div class="container-sm my-5">
        <h3 class="mb-4">再生の道 ビラ配布進捗マップ</h3>
        <div id="candidate-list" class="row row-cols-2 g-3 mb-4">
          <!-- 候補者ボタン -->
        </div>
      </div>
    </div>
  </div>

  <script>
    // 表示対象とする区のリスト（今後ここを編集するだけでOK）
    const targetDistricts = ["中野区", "練馬区", "南多摩","武蔵野市", "北多摩第二", "豊島区", "荒川区", "小平市",];
  
    async function loadCandidates() {
      const response = await fetch('data/candidates_all.json');
      const candidates = await response.json();
      const list = document.getElementById('candidate-list');
  
      candidates.forEach(candidate => {
        const district = candidate.district;
        const name = candidate.name;
        const lastName = name.split(' ')[0]; // 名字抽出

        // ↓ この行を削除またはコメントアウト
        // if (!targetDistricts.includes(district)) return;

        const col = document.createElement('div');
        col.className = 'col';

        const card = document.createElement('div');
        card.className = 'border rounded p-3 h-100 d-flex align-items-center justify-content-center bg-light shadow-sm text-center';
        card.style.cursor = 'pointer';
        card.textContent = `${district}: ${lastName}`; // ← 修正！

        card.onclick = () => {
          const url = `map/map.html?district=${district}&name=${lastName}`;
          window.location.href = url;
        };

        col.appendChild(card);
        list.appendChild(col);
      });
    }
  
    loadCandidates();
  </script>
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
